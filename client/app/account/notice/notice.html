<div class="notice-view">
  <ul class="media-list message-list"
      ng-if="messages.length > 0">
    <li ng-repeat="message in messages|orderBy:'raw.status'|paging:itemsPerPage:currentMessagePage"
        class="message media broadcast"
        ng-class="{'unread':!message.raw.status}"
        ng-click="markAsRead(message)"
        ui-sref="{{message.link}}">
      <div class="avatar-xs pull-left"
           src-key="message.raw.fromWhom.avatar"
           source-attr="background-image"></div>
      <div class="media-body">
        <a class="pull-right btn fa" ng-class="{'fa-check text-muted':message.raw.status,'fa-square-o':!message.raw.status}" ng-click="markAsRead(message, $event)" title="标记为{{message.raw.status?'未读':'已读'}}"></a>
        <h6 class="media-heading">
          {{message.raw.fromWhom.name}}
          <small>|&nbsp;{{message.raw.created|timeToTimeAgo}}</small>
        </h6>
        <div class="text-muted">{{message.title}}</div>
      </div>
    </li>
  </ul>
  <pagination
    ng-hide="messages.length <= itemsPerPage"
    total-items="messages.length"
    ng-model="currentMessagePage"
    items-per-page="itemsPerPage"
    class="pagination-sm bud"
    boundary-links="true"
    rotate="false"
    max-size="maxSize"
    previous-text="&lsaquo;"
    next-text="&rsaquo;"
    first-text="&laquo;"
    last-text="&raquo;"
    num-pages="numPages">
  </pagination>
</div>
