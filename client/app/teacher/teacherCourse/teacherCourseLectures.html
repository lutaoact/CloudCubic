<div>
  <a ng-click="toggleLectures(course)"
     ng-show="course._id"
     class="btn btn-block">
    <span ng-show="course.$lectures == null"
          class="glyphicon glyphicon-chevron-down"></span>
    <span ng-show="course.$lectures != null"
          class="glyphicon glyphicon-chevron-up"></span>
  </a>
  <div class="row course-lectures"
       ng-show="course.$lectures != null">
    <br/>
    <div class="col-md-4"
         ng-if="course._id">
      <div class="from-inline">
        <ui-select ng-model="addingClasse"
                   on-select="addClasse($item)">
          <ui-select-match placeholder="添加班级"><span class="text-muted">添加班级</span></ui-select-match>
          <ui-select-choices repeat="classe in classes | filter:{name:$select.search}">
            <span ng-bind-html="classe.name | highlight: $select.search"></span>
          </ui-select-choices>
        </ui-select>
      </div>
      <hr/>
      <ul class="nav nav-tabs nav-stacked"
          ng-repeat="classe in course.classes">
        <li><a>
          {{classe.name}}
          <button type="button"
                  class="close"
                  ng-click="removeClasse(classe)">&times;</button>
        </a></li>
      </ul>
    </div>

    <div class="col-md-8"
         ng-if="course._id">
      <div class="form-inline lecture-list-header">
        <label class="title">课时</label>
        <input type="text"
               class="form-control search"
               placeholder="搜索"
               ng-model="keyword"/>
        <button class="btn btn-primary pull-right"
                ng-disabled="!course._id"
                ui-sref="teacher.lecture({courseId:course._id, lectureId:'new'})">添加</button>
      </div>
      <hr/>
      <div class="lecture-list">
        <ul class="nav nav-tabs nav-stacked"
            ng-show="filter(lecture, keyword)"
            ng-repeat-reorder="lecture in course.$lectures"
            style="-webkit-user-select: none;-user-select: none;-moz-user-select: none;position:relative"
            ng-repeat-reorder-handle="button.drag-point">
          <li>
            <a href class="name">
              {{lecture.name}}
              <div class="pull-right">
                <button type="button" class="btn btn-default glyphicon glyphicon-pencil"
                      ui-sref="teacher.lecture({courseId:course._id, lectureId:lecture._id})">
                </button>
                <button type="button" class="btn btn-default drag-point glyphicon glyphicon-sort" draggable="true"></button>
                <button type="button" class="btn btn-default glyphicon glyphicon-remove" ng-click="deleteLecture(lecture)">
                </button>
              </div>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
