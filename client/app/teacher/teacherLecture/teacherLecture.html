<div class="container">
  <form class="form-horizontal media" name="form" role="form">
    <div class="media-object pull-right">
      <label class="thumbnail"
             ng-disabled="uploading.thumb">
        <input type="file" style="display:none;"
               ng-file-select="onThumbSelect($files)"/>
        <img qiniu-key="lecture.thumbnail"
             suffix="?imageView2/2/w/210/h/140"
             ng-show="!uploading.thumb"
             src="/assets/images/empty.jpg"/>
        <span ng-if="uploading.thumb">
          <i class="fa fa-spinner fa-spin"></i>上传中 {{uploadProgress.thumb}}
        </span>
      </label>
    </div>
    <div class="media-body">
      <div class="form-group">
        <div class="col-sm-2 control-label">
          <label for="lecture-name">课时名称</label>
        </div>
        <div class="col-sm-10">
          <input class="form-control"
                 id="lecture-name"
                 name="name"
                 ng-model="lecture.name"
                 placeholder="课时名称"
                 required>
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-2 control-label">
          <label for="lecture-info">课时信息</label>
        </div>
        <div class="col-sm-10">
          <textarea class="form-control"
                    id="lecture-info"
                    name="info"
                    rows="2"
                    ng-model="lecture.info"
                    placeholder="课时信息">
          </textarea>
        </div>
      </div>

      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <label class="btn btn-default"
                 ng-disabled="uploading.ppt">
            <input type="file"
                   style="display:none;"
                   ng-file-select="onPPTSelect($files)"/>
            <span ng-if="uploading.ppt">
              <i class="fa fa-spinner fa-spin"></i>
              {{uploadProgress.ppt}}
            </span>
            导入PPT
          </label>

          <label class="btn btn-default"
                 ng-disabled="uploading.images">
            <input type="file" style="display:none;"
                   ng-file-select="onImagesSelect($files)"
                   multiple/>
            <span ng-if="uploading.images">
              <i class="fa fa-spinner fa-spin"></i>
              {{uploadProgress.images}}
            </span>
            导入图片
          </label>

          <label class="btn btn-default"
                 ng-disabled="uploading.media">
            <input type="file" style="display:none;"
                   ng-file-select="onMediaSelect($files)"
                   multiple />
            <span ng-if="uploading.media">
              <i class="fa fa-spinner fa-spin"></i>
              {{uploadProgress.media}}
            </span>
            导入视频
          </label>
        </div>
      </div>

      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <button type="submit"
                  class="btn btn-default"
                  ng-click="saveLecture(lecture,form)">
            保存
          </button>
          <a class="btn btn-link"
             ui-sref="teacher.course({id:$state.params.courseId})">
            <i class="fa fa-arrow-circle-o-left"></i>
            取消
          </a>
        </div>
      </div>
    </div>
  </form>
  <hr/>
  <div class="row">
    <div class="col-md-6 media">
      <div class="pull-left">
        <div class="list-group"
            style="-webkit-user-select: none;-user-select: none;-moz-user-select: none;position:relative">
          <a class="list-group-item stretch media-object"
              ng-class="{'active':slide.$active}"
              ng-click="slide.$active = true"
              ng-repeat-reorder="slide in lecture.slides"
              ng-repeat-reorder-handle="div.drag-point">
            <div class="drag-point fa fa-bars" draggable="true"></div>
            <img qiniu-key="slide.thumb"
                 suffix="?imageView2/2/w/40/h/40">
            <span ng-click="removeSlide($index)" >
              <span class="glyphicon glyphicon-trash"></span>
            </span>
          </a>
        </div>
      </div>
      <div class="media-body">
        <cool-projector disable-animation="true">
          <cool-frame ng-repeat="slide in lecture.slides"
                      active="slide.$active">
            <img qiniu-key="slide.thumb"
                 suffix="?imageView2/2/w/500/h/500"
                 style="margin:auto;">
            <div class="carousel-caption">
              <h4>第 {{$index+1}} 张</h4>
            </div>
          </cool-frame>
        </cool-projector>
      </div>
    </div>
    <div class="col-md-6 col-xs-11">
      <videogular>
        <video class="videoPlayer" qiniu-key="lecture.media" >
        </video>
        <vg-poster-image></vg-poster-image>
        <vg-buffering></vg-buffering>
        <vg-controls style="height: 50px;">
          <vg-play-pause-button></vg-play-pause-button>
          <vg-timeDisplay>{{ currentTime }}</vg-timeDisplay>
          <vg-scrubBar>
            <vg-scrubbarcurrenttime></vg-scrubbarcurrenttime>
          </vg-scrubBar>
          <vg-timeDisplay>{{ totalTime }}</vg-timeDisplay>
          <vg-volume>
            <vg-mutebutton></vg-mutebutton>
            <vg-volumebar></vg-volumebar>
          </vg-volume>
          <vg-fullscreenButton></vg-fullscreenButton>
        </vg-controls>
      </videogular>
    </div>
  </div>
</div>
