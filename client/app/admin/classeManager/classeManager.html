<div class="classe-manager container" ui-view class="fadeIn">

  <div class="classe-list-header row">
    <span class="title">班级管理</span>
    <span class="total-num">
      共 <span class="text-primary" style="font-size: 1.2em">{{classes.$count}}</span> 个
    </span>
    <input type="text"
           class="form-control"
           placeholder="关键字"
           ng-model="search.keyword"
           ng-keyup="setKeyword($event)">
    <button class="btn btn-sm btn-danger rounded pull-right"
            ng-click="createNewClasse()">开班</button>
  </div>

  <div class="classe-list-content row">
    <div class="col-md-4 classe-list-item" ng-repeat="classe in classes">
      <div class="classe-item-detail">
        <a class="classe-title" href ng-click="viewClasse(classe)">{{classe.name}}</a>
        <a class="classe-course" href ui-sref="courseDetail({courseId:classe.courseId._id})">{{classe.courseId.name}}</a>
        <div class="text-muted teachers">王老师、刘老师</div>
        <div class="classe-times">
          <table>
            <tr class="tr-border">
              <td class="tr-title text-muted">报名时间 </td>
              <td>{{classe.enrollment.from | date:'yyyy.MM.dd'}}</td>
              <td class="tr-space text-muted"><b>-</b></td>
              <td>{{classe.enrollment.to | date:'yyyy.MM.dd'}}</td>
            </tr>
            <tr>
              <td class="tr-title text-muted">上课时间 </td>
              <td>{{classe.duration.from | date:'yyyy.MM.dd'}}</td>
              <td class="tr-space text-muted"><b>-</b></td>
              <td>{{classe.duration.to | date:'yyyy.MM.dd'}}</td>
            </tr>
          </table>
        </div>
        <div class="classe-footer">
          <span class="yuan">¥ {{classe.price.toFixed(2)}}</span>
          <span class="pull-right">
            {{classe.students.length}} 个学生
            <span dropdown class="setting-btn" style="position: relative;">
              <a href class="btn btn-sm" dropdown-toggle><i class="fa fa-gear"></i></a>
              <ul class="dropdown-menu" role="menu" dropdown-toggle>
                <li><a href ng-click="editClasse(classe)">编辑</a></li>
                <li><a href ng-click="deleteClasse(classe)">删除</a></li>
              </ul>
            </span>
          </span>
        </div>
      </div>
    </div>
  </div>

  <div class="row pagination-row text-center"
       ng-if="classes.$count"
       ng-show="classes.$count > pageConf.itemsPerPage">
    <pagination
      total-items="classes.$count"
      ng-model="pageConf.currentPage"
      items-per-page="pageConf.itemsPerPage"
      class="pagination-sm bud"
      boundary-links="true"
      rotate="false"
      max-size="pageConf.maxSize">
    </pagination>
  </div>

</div>
